<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<body>
  <script>
  var arr1 = [
    {
      a: 1,
      b: 1
    },
    {
      a: 2,
      b: 2
    },
    {
      a: 2,
      b: 3
    }
  ]

  function show (arr) {
    let {a, b} = arr.shift()
    let _arr = [
      {
        a: a,
        list: [{b}]
      }
    ]

    arr.forEach((val) => {
      let {a, b} = val

      _arr.forEach((item) => {

        if (a === item.a) {
          item.list.push({b})
        } else {
          _arr.push({
            a: a,
            list: [{b}]
          })
        }
      })
    })

    /*for (var i = 0; i < arr.length; i++) {
      let {a, b} = arr[i]
      for (var j = 0; j < _arr.length; j++) {
        console.log(j)
        if (a === _arr[j].a) {
          _arr[j].list.push({b})
        } else {
          _arr.push({
            a: a,
            list: [{b}]
          })
        }
      }
    }*/

    return _arr
  }

  console.log(show(arr1))
  </script>
</body>

</html>