<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>5</title>
    <script src="../js/vue.js"></script>
    <script src="../js/vuex.js"></script>
</head>
<body>
    <div id="app">
        <h2>APP</h2>
        <h3>{{cpCount}}</h3>
        <div>
            <input type="button" value="+" @click="increment">
        </div>
    </div>

    <script>
        const store = new Vuex.Store({
            state: {
                stCount: 0
            },
            mutations: {
                muIncrement(state, payload) {
                    state.stCount += payload.num
                }
            },
            actions: {
                acIncrement(context, payload) {
                    context.commit("muIncrement", payload)
                }
            }
        })

        new Vue({
            el: "#app",
            store: store,
            computed: {
                cpCount() {
                    return this.$store.state.stCount;
                }
            },
            methods: {
                increment() {
                    //this.$store.commit("muIncrement", {num: 2})
                    this.$store.dispatch("acIncrement", {num: 2})
                }
            }
        })
    </script>
</body>
</html>